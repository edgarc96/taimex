
<!DOCTYPE html><html lang='es'><head><meta charset='UTF-8'><meta name='viewport' content='width=device-width, initial-scale=1.0'><title>TAIMEX - SISTEMA</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"><style>* { margin: 0; padding: 0; box-sizing: border-box; }html, body { height: 100vh; overflow: hidden; width: 100%; }body { font-family: Inter, -apple-system, BlinkMacSystemFont, Segoe UI, sans-serif; background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%); color: #334155; }.container { width: 100%; height: 100vh; background: #fff; display: flex; flex-direction: column; overflow: hidden; }.header { background: linear-gradient(135deg, #1e293b 0%, #3b82f6 100%); color: #fff; padding: 12px 24px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 8px rgba(30,41,59,.25); position: relative; z-index: 100; }.header-left { display: flex; align-items: center; gap: 20px; }.hamburger-menu { background: none; border: none; color: #fff; font-size: 1.2em; cursor: pointer; padding: 8px; border-radius: 6px; transition: background-color .2s ease; }.hamburger-menu:hover { background-color: rgba(255,255,255,.12); }.hamburger-menu svg { width: 24px; height: 24px; fill: currentColor; }.logo-section img { height: 40px; width: auto; object-fit: contain; filter: brightness(1.05); }.title-section { text-align: right; }.title-row { display: flex; align-items: center; justify-content: flex-end; gap: 15px; }.welcome-user { white-space: nowrap; }.welcome-user span { color: #cbd5e1; font-size: .8em; font-weight: 400; }.welcome-user strong { color: #3b82f6; margin-left: 4px; font-weight: 600; }.title-section h2 { font-size: .95em; margin: 0; font-weight: 500; color: #fff; letter-spacing: .3px; }.title-section p { font-size: .75em; margin: 2px 0 0 0; color: #cbd5e1; font-weight: 400; }.main-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%); }.tabs { display: flex; gap: 4px; padding: 12px 24px 0; background: transparent; border-bottom: 2px solid rgba(226,232,240,0.8); }.tab { padding: 12px 24px; background: rgba(255,255,255,0.7); border: none; cursor: pointer; font-weight: 600; color: #64748b; border-radius: 8px 8px 0 0; transition: all 0.2s; font-size: 14px; display: inline-flex; align-items: center; gap: 8px; }.tab.active { background: white; color: #1e293b; box-shadow: 0 -2px 8px rgba(0,0,0,0.05); }.tab:hover { background: rgba(255,255,255,0.9); color: #1e293b; }.tab-content { display: none; padding: 24px; overflow-y: auto; flex: 1; }.tab-content.active { display: block; }.form-container { background: rgba(255,255,255,0.95); padding: 28px; border-radius: 12px; box-shadow: 0 8px 32px rgba(0,0,0,0.08); max-width: 1200px; margin: 0 auto; }.form-group { margin-bottom: 18px; }.form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #334155; font-size: 14px; }.form-group input, .form-group textarea { width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 14px; font-family: inherit; transition: all 0.2s; background: white; }.form-group input:focus, .form-group textarea:focus { outline: none; border-color: #1e293b; box-shadow: 0 0 0 3px rgba(59,130,246,0.1); }.form-group textarea { resize: vertical; min-height: 80px; }.btn { color: white; padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; display: inline-flex; align-items: center; gap: 8px; font-size: 14px; transition: all 0.2s; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }.btn:hover { opacity: 0.9; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }.btn-save { background: #10b981; } .btn-view { background: #3b82f6; } .btn-edit { background: #f59e0b; } .btn-delete { background: #ef4444; } .btn-export { background: #6366f1; } .btn-print { background: #8b5cf6; } .btn-cancel { background: #6b7280; } .btn-ok { background: #22c55e; }table { width: 100%; border-collapse: collapse; margin-top: 16px; background: white; border-radius: 8px; overflow: hidden; }th, td { padding: 14px; text-align: left; border-bottom: 1px solid #e2e8f0; }th { background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); font-weight: 600; color: #334155; font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px; }tbody tr { transition: background 0.15s; }tbody tr:hover { background: #f8fafc; }.action-btn { padding: 8px 14px; margin-right: 6px; border-radius: 6px; border: none; cursor: pointer; font-size: 13px; font-weight: 500; transition: all 0.2s; }.action-btn:hover { transform: translateY(-1px); box-shadow: 0 2px 6px rgba(0,0,0,0.1); }.notification { position: fixed; top: 20px; right: 20px; background: #10b981; color: white; padding: 16px 24px; border-radius: 10px; box-shadow: 0 8px 24px rgba(16,185,129,0.3); z-index: 1000; display: flex; align-items: center; gap: 10px; animation: slideIn 0.3s ease; }@keyframes slideIn { from { transform: translateX(400px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }</style></head><body><div class="container"><div class="header"><div class="header-left"><button class="hamburger-menu" onclick="alert('Menu')"><svg viewBox="0 0 448 512"><path d="M0 96C0 78.3 14.3 64 32 64H416C433.7 64 448 78.3 448 96C448 113.7 433.7 128 416 128H32C14.3 128 0 113.7 0 96zM0 256C0 238.3 14.3 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.3 288 0 273.7 0 256zM448 416C448 433.7 433.7 448 416 448H32C14.3 448 0 433.7 0 416C0 398.3 14.3 384 32 384H416C433.7 384 448 398.3 448 416z"></path></svg></button><div class="logo-section"><img src="http://54.189.226.145/uploads/assets/images/taimex_logo.png" alt="Logo" onerror="this.style.display='none'"></div></div><div class="title-section"><div class="title-row"><div class="welcome-user"><span>Welcome,</span><strong>Admin User</strong></div><div><h2>TAIMEX - SISTEMA</h2><p>MANAGEMENT SYSTEM</p></div></div></div></div><main class="main-content"><div class="tabs"><button class="tab active" onclick="switchTab(0)"><i class="fas fa-plus"></i> Agregar</button><button class="tab" onclick="switchTab(1)"><i class="fas fa-list"></i> Ver Registros</button></div><div id="tab0" class="tab-content active"><div class="form-container"><h2 style="margin-bottom: 20px; color: #1f2937;">Formulario de Datos</h2><form onsubmit="addRecord(event)"><div class='form-group'><label>SCAN BADGE</label><input type='number' id='field0' placeholder='SCAN BADGE' required></div><div style="display: flex; gap: 12px; flex-wrap: wrap; margin-top: 16px;"><button type="submit" class="btn btn-save" ><i class="fa-save"></i> Guardar</button></div></form></div></div><div id="tab1" class="tab-content"><div class="form-container"><h2 style="margin-bottom: 20px; color: #1f2937;">Registros Guardados (<span id="recordCount">0</span>)</h2><div style="display: flex; gap: 12px; margin-bottom: 16px;"><input type="text" id="searchInput" placeholder="Buscar..." style="flex: 1; padding: 10px; border: 2px solid #e5e7eb; border-radius: 6px;" onkeyup="filterRecords()"><button class="btn" onclick="exportToCSV()" style="margin-top: 0;"><i class="fas fa-file-export"></i> Exportar CSV</button></div><table><thead><tr><th>SCAN BADGE</th><th>Acciones</th></tr></thead><tbody id="recordsTable"></tbody></table></div></div></div><script>let records = [];const fieldIds = ['field0'];function switchTab(index) {document.querySelectorAll(".tab").forEach(function(t, i) {t.classList.toggle("active", i === index);});document.querySelectorAll(".tab-content").forEach(function(c, i) {c.classList.toggle("active", i === index);});}function addRecord(e) {e.preventDefault();const record = {};fieldIds.forEach(function(id) {record[id] = document.getElementById(id).value;document.getElementById(id).value = "";});records.push(record);renderRecords();showNotification("Registro guardado exitosamente");}function renderRecords() {const tbody = document.getElementById("recordsTable");tbody.innerHTML = "";records.forEach(function(record, index) {const tr = document.createElement("tr");fieldIds.forEach(function(id) {const td = document.createElement("td");td.textContent = record[id];tr.appendChild(td);});const actionTd = document.createElement("td");const btnview = document.createElement("button");btnview.className = "action-btn btn-view";btnview.innerHTML = "<i class='fa-eye'></i> Ver";btnview.setAttribute("onclick", "viewRecord(" + index + ")");actionTd.appendChild(btnview);const btnedit = document.createElement("button");btnedit.className = "action-btn btn-edit";btnedit.innerHTML = "<i class='fa-edit'></i> Editar";btnedit.setAttribute("onclick", "editRecord(" + index + ")");actionTd.appendChild(btnedit);const btndelete = document.createElement("button");btndelete.className = "action-btn btn-delete";btndelete.innerHTML = "<i class='fa-trash'></i> Eliminar";btndelete.setAttribute("onclick", "deleteRecord(" + index + ")");actionTd.appendChild(btndelete);tr.appendChild(actionTd);tbody.appendChild(tr);});updateRecordCount();}function viewRecord(index) {const record = records[index];let details = "";fieldIds.forEach(function(id) {details += id.replace("field", "Campo ") + ": " + record[id] + "\n";});alert("DETALLES DEL REGISTRO\n\n" + details);}function editRecord(index) {const record = records[index];fieldIds.forEach(function(id) {const input = document.getElementById(id);if (input) input.value = record[id];});switchTab(0);records.splice(index, 1);renderRecords();showNotification("Editando registro...");}function deleteRecord(index) {if (confirm("Eliminar este registro?")) {records.splice(index, 1);renderRecords();showNotification("Registro eliminado");}}function updateRecordCount() {const countEl = document.getElementById("recordCount");if (countEl) countEl.textContent = records.length;}function filterRecords() {const searchTerm = document.getElementById("searchInput").value.toLowerCase();const tbody = document.getElementById("recordsTable");const rows = tbody.getElementsByTagName("tr");for (let i = 0; i < rows.length; i++) {const row = rows[i];const text = row.textContent.toLowerCase();if (text.includes(searchTerm)) {row.style.display = "";} else {row.style.display = "none";}}}function exportToCSV() {if (records.length === 0) {alert("No hay registros para exportar");return;}let csv = fieldIds.join(",") + "\n";records.forEach(function(record) {const values = [];fieldIds.forEach(function(id) {const val = record[id] || "";values.push("\"" + val.replace(/"/g, "\"\"") + "\"");});csv += values.join(",") + "\n";});const blob = new Blob([csv], { type: "text/csv" });const url = URL.createObjectURL(blob);const a = document.createElement("a");a.href = url;a.download = "datos_1760592476518.csv";a.click();URL.revokeObjectURL(url);showNotification("Datos exportados a CSV");}function showNotification(message) {const notif = document.createElement("div");notif.className = "notification";const icon = document.createElement("i");icon.className = "fas fa-check-circle";notif.appendChild(icon);notif.appendChild(document.createTextNode(" " + message));document.body.appendChild(notif);setTimeout(function() { notif.remove(); }, 3000);}</script>
PicLan-IP/BASIC ^ ^
*
      PL_GETVAR BADGEID FROM 'BADGEID' ELSE BADGEID = ''
      PL_GETVAR UPDATE FROM 'UPDATE' ELSE UPDATE = ''
      OPEN 'OPERS' TO OPERSF ELSE STOP 201,'OPERS'
      OPEN 'BADGES' TO BADGEF ELSE STOP 201,'BADGES'
 *
      MSG = ''
      BREC = '' ; OPER = ''
*
      BADGEID = TRIM(BADGEID)
      BADGEID = OCONV(BADGEID,'MCU')
      PRINT 'BADGEID = ':BADGEID
      IF UPDATE NE '' THEN
   
           READ OPER FROM OPERSF,BADGEID ELSE 
              READ BREC FROM BADGEF,BADGEID ELSE
                 MSG = 'INVALID OPERATOR BADGEID OR SYSTEM OPER ID'
                 BADGEID = ''
                 GOTO 99
              END
           END
*
           IF OPER NE '' THEN
                BADGEID = BADGEID:'|':OPER<9>
           END
           IF BREC NE '' THEN
                BADGEID = BREC<4>:'|':BADGEID
           END
           ERR = ''
           PL_PUTVAR BADGEID IN 'BADGEID' ELSE NULL
           PL_PUTVAR '' IN 'UPDATE' ELSE NULL
           CALL PLW.PAGE('CDA_WIPTRACK2.HTM','',ERR)
           RETURN
       END
</main></div></body></html>